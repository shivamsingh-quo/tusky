{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.ts","webpack:///./task-card/task-card.ts","webpack:///./nav-bar/nav-bar.ts","webpack:///./task-item/task-item.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","task_card_1","nav_bar_1","task_item_1","customElements","define","NavBar","TaskItem","TaskCard","document","getElementById","addEventListener","ev","preventDefault","newCard","createElement","appendChild","_taskPanelTemplate","innerHTML","HTMLElement","[object Object]","super","this","taskList","count","console","log","root","attachShadow","content","cloneNode","querySelector","createTask","title","getAttribute","val","setAttribute","observedAttributes","oldValue","newValue","render","handleDrop","allowDrop","opts","itemT","message","JSON","stringify","id","priority","push","owner","assignedTo","comments","attachments","_a","parse","dataTransfer","getData","sourceId","task","__rest","querySelectorAll","length","textContent","template","_itemTemplate","_editTemplate","draggable","hasAttribute","removeAttribute","editable","Date","getTime","deleteTask","dragstartHandler","dragendHandler","switchItemView","type","removeAllViewsFromRoot","addTask","remove","lastElementChild","Array","from","children","forEach","element","removeChild","offsetParent","parentNode","host","setData","assign","dropEffect","nextSibling","toString","msg","pty"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { TaskCard } from './task-card/task-card';\nimport { NavBar } from './nav-bar/nav-bar';\nimport { TaskItem } from './task-item/task-item';\n\ncustomElements.define('nav-bar', NavBar);\ncustomElements.define('task-item', TaskItem);\ncustomElements.define('task-card', TaskCard);\n\ndocument.getElementById('addTask').addEventListener('click', (ev: Event) => {\n    ev.preventDefault();\n    const newCard = document.createElement('task-card');\n    document.getElementById('task-cards').appendChild(newCard);\n});\n\n","import { Task } from \"../models/task\";\nimport { TaskItem } from \"../task-item/task-item\";\n\nconst _taskPanelTemplate = document.createElement('template');\n_taskPanelTemplate.innerHTML = `\n<style>\n.card {\n    display: inline-block;\n    box-shadow: 0 1px 2px 0 rgba(0,0,0,.15);\n    margin: 20px;\n    position: relative;\n    margin-bottom: 50px;\n    transition: all .2s ease-in-out;\n  }\n  .card-footer{\n      text-align:center;\n      margin:5px;\n  }\n  .card:hover {\n    /*box-shadow: 0 5px 22px 0 rgba(0,0,0,.25);*/\n    box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);\n    margin-bottom: 54px;\n  }\n  .centered {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right:0;\n    bottom:0;\n    text-align:center;\n    height:200px;\n    flex-direction: column;\n    display: flex;\n    justify-content: center;\n  }\n\n  .image {\n    max-height: 200px;\n    max-width:300px;\n    opacity: .7;\n    overflow: hidden;\n    transition: all .2s ease-in-out;\n    color:white;\n    display:flex;\n  }\n  .image:hover,\n  .card:hover .image {\n    height: 200px;\n    opacity: 1;\n  }\n.text {\n  background: #FFF;\n  padding: 20px;\n  min-height: 200px;\n}\n\n.text p {\n  margin-bottom: 0px;\n}\n\n.button {\n    background-color: white;\n    color: black;\n    border: 2px solid #555555;\n    padding: 16px 32px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 16px;\n    margin: 4px 2px;\n    -webkit-transition-duration: 0.4s;\n    /* Safari */\n    transition-duration: 0.4s;\n    cursor: pointer;\n  }\n\n  .button:hover {\n    background-color: #555555;\n    color: white;\n  }\n\n.fab {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  position: absolute;\n  margin-top: -50px;\n  right: 20px;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, .3);\n  color: #fff;\n  font-size: 48px;\n  text-align: center;\n  background: #0066A2;\n  -webkit-transition: -webkit-transform .2s ease-in-out;\n  transition: transform .2s ease-in-out;\n}\n\n.fab:hover {\n  background: #549D3C;\n  cursor: pointer;\n  -ms-transform: rotate(90deg);\n\t-webkit-transform: rotate(90deg);\n\ttransform: rotate(90deg);\n}\n</style>\n\n<div class=\"card\">\n\n<header>\n<div class=\"image\">\n  <img src=\"https://cdn.dribbble.com/users/1046434/screenshots/2817598/attachments/577913/opensource-background1-big.jpg\">\n  <div class=\"centered\">\n  <h1 id=\"card-title\"></h1>\n    <p id=\"card-count\"></p>\n  </div>\n  </div>\n</header>\n\n<main>\n<div class=\"list\">\n</div>\n</main>\n\n<div class=\"card-footer\">\n<button id=\"addTask\" class=\"button\">Add Task</button>\n</div>\n</div>\n`;\n\nexport class TaskCard extends HTMLElement {\n    root: ShadowRoot;\n    taskHeader: string;\n    taskList: Task[] = [];\n    count = 1;\n\n    get title() {\n        return this.getAttribute('title');\n    }\n    set title(val) {\n        this.setAttribute('title', val);\n    }\n\n    static get observedAttributes() {\n        return ['title'];\n    }\n\n    attributeChangedCallback(name: string, oldValue: string, newValue: string) {\n        console.log(name, \"changed\");\n        this.render();\n    }\n\n\n    constructor() {\n        super();\n        console.log(\"task initializing\");\n        this.root = this.attachShadow({ mode: 'open' });\n        this.root.appendChild(_taskPanelTemplate.content.cloneNode(true));\n        console.log(this.root);\n        this.root.querySelector('#addTask')\n            .addEventListener('click', (ev) => this.createTask());\n    }\n\n    connectedCallback() {\n        console.log('Custom task card element added to page.');\n        this.addEventListener('drop', (ev) => this.handleDrop(ev));\n        this.addEventListener('dragover', (ev) => this.allowDrop(ev))\n    }\n\n    /**\n     * Create Task handler function\n     * @param opts\n     */\n    createTask(opts?: Task) {\n        const itemT = document.createElement('task-item');\n        if (opts) {\n            console.log(opts)\n            itemT.setAttribute('message', opts.message);\n            itemT.setAttribute('id', JSON.stringify(opts.id));\n            itemT.setAttribute('priority', opts.priority);\n            itemT.setAttribute('draggable', 'true');\n            this.taskList.push({\n                id: opts.id,\n                message: opts.message,\n                priority: opts.priority,\n                owner: { name: 'Depp', id: 1 },\n                assignedTo: { name: 'Depp', id: 1 },\n                comments: [],\n                attachments: []\n            });\n        }\n        else {\n            console.log(\"editable\");\n            itemT.setAttribute('editable', 'true');\n        }\n        this.root.querySelector('.list').appendChild(itemT);\n        this.render();\n\n    }\n\n\n    /**\n     * Handles drop event/ Listener function for\n     * ondrop event\n     * @param ev\n     */\n    handleDrop(ev: any) {\n        ev.preventDefault();\n        const { sourceId, ...task } = JSON.parse(ev.dataTransfer.getData(\"text\"));\n        console.log(\"id received in drop\", sourceId);\n        console.log(\"task received in drop\", task);\n        this.taskList.push(task);\n        this.createTask(task);\n    }\n\n    /**\n     * Handles Dropping event permissions while element is hovering\n     * @param ev\n     */\n    allowDrop(ev: Event) {\n        console.log(\"Dropping hover\")\n        ev.preventDefault();\n    }\n\n    render() {\n        console.log(\"task list renderer called\", this.root.querySelectorAll('task-card').length);\n        (<HTMLHeadingElement>this.root.querySelector('#card-title')).textContent = this.title;\n        (<HTMLHeadingElement>this.root.querySelector('#card-count')).textContent = `Task Count: ${this.root.querySelectorAll('task-item').length}`;\n    }\n}","const template = document.createElement('template');\ntemplate.innerHTML = `\n  <style>\n  .container {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-flex: 1;\n    -ms-flex: 1;\n    flex: 1;\n    width: 100%;\n    overflow: auto;\n}\n  header {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    background: transparent;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -ms-flex-direction: row;\n    flex-direction: row;\n    z-index: 1;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-shadow: 0 0 40px rgba(0, 0, 0, 0.2);\n    box-shadow: 0 0 40px rgba(0, 0, 0, 0.2);\n}\n\nheader > .container {\n    margin: 0 auto;\n}\n  nav {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -ms-flex-direction: row;\n    flex-direction: row;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: justify;\n    -ms-flex-pack: justify;\n    justify-content: space-between;\n    overflow: auto;\n    padding:5px;\n    width:100%;\n}\nnav a,\nnav a:link {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    color: dimgray;\n    text-decoration: none;\n    padding: .8em;\n    margin: 0;\n    transition: background-color .2s ease-out;\n}\nnav a.active {\n    background-color: rgba(255, 180, 0, 0.6);\n    color: black;\n    border-radius: 3px;\n}\nnav a .ver {\n    font-size: .8em;\n    margin: 0 0 0 1em;\n}\nnav>*:last-child{\n    align-self:center\n}\n  </style>\n\n  <header>\n  <div class=\"container\">\n      <nav>\n          <a  href=\"/?page=1\" class=\"active\">Home</a>\n            <a class=\"github\" href=\"https://github.com/shivamsngh\" target=\"_blank\" rel=\"noopener\">\n                <img width=\"32px\" height=\"32px\" src='data:image/svg+xml;utf8,<svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" stroke-linejoin=\"round\" stroke-miterlimit=\"1.41\"><path d=\"M12 .3C5.37.3 0 5.67 0 12.3c0 5.3 3.44 9.8 8.2 11.38.6.12.83-.26.83-.57 0-.28 0-1.03-.02-2.03-3.33.72-4.03-1.6-4.03-1.6-.55-1.4-1.34-1.77-1.34-1.77-1.08-.74.1-.73.1-.73 1.2.1 1.83 1.24 1.83 1.24 1.07 1.84 2.8 1.3 3.5 1 .1-.77.4-1.3.75-1.6-2.66-.3-5.46-1.33-5.46-5.93 0-1.3.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23.96-.26 1.98-.4 3-.4s2.04.14 3 .4c2.28-1.55 3.3-1.23 3.3-1.23.63 1.66.23 2.88.1 3.18.77.84 1.24 1.9 1.24 3.22 0 4.6-2.8 5.63-5.48 5.92.42.35.8 1.1.8 2.2v3.3c0 .3.2.7.82.57C20.56 22.1 24 17.6 24 12.3c0-6.63-5.37-12-12-12\"/></svg>' alt=\"Github\" />\n             </a>\n      </nav>\n  </div>\n</header>\n`;\n\nexport class NavBar extends HTMLElement {\n    root: any;\n    constructor() {\n        super();\n        console.log(\"nav initializing\");\n        this.root = this.attachShadow({ mode: 'open' });\n        this.root.appendChild(template.content.cloneNode(true));\n    }\n}\n\n\n\n\n","import { Task } from \"../models/task\";\n\nconst _itemTemplate = document.createElement('template');\n_itemTemplate.innerHTML = `\n<style>\n:host{\n  display:block;\n  border:1px solid black;\n  margin:5px;\n}\n.button {\n  background-color: white;\n  color: black;\n  border: 0px none #555555;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  /* margin: 4px 2px; */\n  -webkit-transition-duration: 0.4s;\n  transition-duration: 0.4s;\n  cursor: pointer;\n  margin: 0px;\n  padding: 0px;\n}\n.button:hover {\n  //background-color: #555555;\n  color: red;\n}\n.chip {\n  display: inline-block;\n  background: #e0e0e0;\n  padding: 10px;\n  border-radius: 2px;\n  font-size: 13px;\n  }\n  .chip:hover {\n    background: #ccc;\n  }\n  .grid-container {\n    display: grid;\n    grid-row-gap: 10px;\n    grid-column-gap: 10px;\n    grid-template-columns: auto auto auto;\n  }\n\n  .header-grid {\n    display: grid;\n    grid-row-gap: 10px;\n    grid-column-gap: 10px;\n    grid-template-columns: auto auto;\n  }\n  header{\n    text-align:center;\n  }\n  header h3{\n    margin:0px;\n  }\n  .card{\n    padding:10px;\n  }\n</style>\n<div class=\"card\">\n  <header class=\"header-grid\">\n    <h3 class=\"chip grid-item\">Priority</h3><a href=\"\" style=\"margin-left:auto;\" id=\"switchView\">Fold</a>\n  </header>\n  <main>\n    <p>message</p>\n  </main>\n    <footer class=\"grid-container\">\n    <div>\n    <button class=\"button grid-item\" id=\"comments\">&#x1f4ac;</button>\n    <span></span>\n    </div>\n    <div>\n    <button class=\"button grid-item\" id=\"attachments\">&#128206;</button>\n    <span></span>\n    </div>\n    <button id=\"deleteTask\" class=\"button grid-item\">&#x2715;</button>\n    </div>\n  </footer>\n</div>`;\n\nconst _editTemplate = document.createElement('template');\n_editTemplate.innerHTML = `\n<style>\n:host{\n  display:block;\n  border:1px solid black;\n  margin:5px;\n}\n.button {\n  background-color: white;\n  color: black;\n  border: 2px solid lightgray;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  font-size: 16px;\n  /* margin: 4px 2px; */\n  -webkit-transition-duration: 0.4s;\n  transition-duration: 0.4s;\n  cursor: pointer;\n  margin: 0px;\n  padding: 5px;\n}\n.button:hover {\n  //background-color: #555555;\n  color: red;\n}\ntextarea, select {\n  border: 5px solid white;\n  -webkit-box-shadow:\n    inset 0 0 8px  rgba(0,0,0,0.1),\n          0 0 16px rgba(0,0,0,0.1);\n  -moz-box-shadow:\n    inset 0 0 8px  rgba(0,0,0,0.1),\n          0 0 16px rgba(0,0,0,0.1);\n  box-shadow:\n    inset 0 0 8px  rgba(0,0,0,0.1),\n          0 0 16px rgba(0,0,0,0.1);\n  padding: 15px;\n  background: rgba(255,255,255,0.5);\n  margin: 0 0 10px 0;\n}\n\ntextarea{\n  width:-webkit-fill-available;\n}\nselect{\n  padding:10px;\n}\n  .grid-container {\n    display: grid;\n    grid-row-gap: 10px;\n    grid-column-gap: 10px;\n    grid-template-columns: auto auto;\n  }\n\n  .full-width{\n    display:flex;\n    flex-direction:column;\n  }\n  .card{\n    padding:10px;\n  }\n</style>\n<div class=\"card\">\n  <header class=\"grid-container\">\n      <select id=\"ptyInput\">\n        <option>High Priority</option>\n        <option>Medium Priority</option>\n        <option selected>Low Priority</option>\n      </select>\n      <a href=\"\" style=\"margin-left:auto;\" id=\"switchView\">Fold</a>\n  </header>\n  <main>\n    <textarea id=\"msgInput\" placeholder=\"Enter Task Details\"></textarea>\n  </main>\n    <footer class=\"grid-container\">\n    <div class=\"full-width\">\n        <button id=\"submitTask\" class=\"button grid-item\">Add</button>\n    </div>\n    <div class=\"full-width\">\n      <button id=\"cancel\" class=\"button grid-item\">Del</button>\n    </div>\n  </footer>\n</div>\n`\n\nexport class TaskItem extends HTMLElement {\n  root: ShadowRoot;\n  // draggable: boolean;\n  task: Task;\n  child: Node;\n\n  static get observedAttributes() {\n    return ['priority', 'message', 'editable'];\n  }\n\n  get draggable() {\n    return this.hasAttribute('draggable');\n  }\n\n  set draggable(val) {\n    if (val) {\n      this.setAttribute('draggable', 'true')\n    }\n    else {\n      this.removeAttribute('draggable');\n    }\n  }\n\n  get editable() {\n    return this.hasAttribute('editable');\n  }\n  set editable(val) {\n    if (val) {\n      this.setAttribute('editable', ' ');\n    } else {\n      this.removeAttribute('editable');\n    }\n  }\n  get priority() {\n    return this.getAttribute('priority');\n  }\n  set priority(val) {\n    if (val) {\n      this.setAttribute('priority', val);\n    } else {\n      this.removeAttribute('priority');\n    }\n  }\n  get message() {\n    return this.getAttribute('message');\n  }\n  set message(val) {\n    if (val) {\n      this.setAttribute('message', val);\n    } else {\n      this.removeAttribute('message');\n    }\n  }\n\n  constructor() {\n    super();\n    console.log(\"constructor run\")\n    // dummy data\n    this.task = {\n      id: new Date(2010, 6, 26).getTime() / 1000,\n      priority: '',\n      assignedTo: { name: 'Depp', id: 1 },\n      owner: { name: 'Depp', id: 1 },\n      message: '',\n      comments: ['abc', 'def', 'ghq'],\n      attachments: ['abc', 'def']\n    }\n    this.root = this.attachShadow({ mode: 'open' });\n    this.root.appendChild(_itemTemplate.content.cloneNode(true));\n  }\n\n  connectedCallback() {\n    console.log(\"connected\")\n    if (this.root.querySelector('#deleteTask')) {\n      console.log(\"del ttch\", )\n      this.root.querySelector('#deleteTask').addEventListener('click', (ev) => this.deleteTask(ev));\n\n    }\n    this.addEventListener('dragstart', (ev) => this.dragstartHandler(ev));\n    this.addEventListener('dragend', (ev) => this.dragendHandler(ev));\n  }\n\n  attributeChangedCallback(name: string, oldValue: string, newValue: string) {\n    switch (name) {\n      case 'message':\n        this.task.message = newValue;\n        this.render();\n        break;\n      case 'priority':\n        this.task.priority = newValue;\n        this.render();\n        break;\n      case 'editable':\n        if (newValue) {\n          this.switchItemView('edit');\n        }\n        break;\n    }\n  }\n\n  /**\n   * Switch between Edit and Show views\n   * @param type\n   */\n  switchItemView(type: string) {\n    switch (type) {\n      case 'edit':\n        this.removeAllViewsFromRoot();\n        this.root.appendChild(_editTemplate.content.cloneNode(true));\n        (<HTMLTextAreaElement>this.root.querySelector('#msgInput')).value = this.message;\n        (<HTMLTextAreaElement>this.root.querySelector('#ptyInput')).value = this.priority;\n        this.removeAttribute('draggable');\n        this.draggable = false;\n        this.root.querySelector('#submitTask').addEventListener('click', (ev) => this.addTask());\n        this.root.querySelector('#switchView').addEventListener('click', (ev) => {\n          ev.preventDefault();\n          this.switchItemView('show');\n        });\n        this.root.querySelector('#cancel').addEventListener('click', (ev) => this.remove());\n\n        break;\n      case 'show':\n        this.removeAllViewsFromRoot();\n        console.log(\"root\", this.root.lastElementChild);\n        this.root.appendChild(_itemTemplate.content.cloneNode(true));\n        this.draggable = true;\n      this.root.querySelector('#deleteTask').addEventListener('click', (ev) => this.deleteTask(ev));\n\n        this.root.querySelector('#switchView').addEventListener('click', (ev) => {\n          ev.preventDefault();\n          this.switchItemView('edit');\n        });\n        break;\n    }\n  }\n\n  /**\n   * Cleans the root\n   */\n  removeAllViewsFromRoot() {\n    Array.from(this.root.children).forEach((element: any) => {\n      this.root.removeChild(element);\n    });\n  }\n\n\n  /**\n   * Drag event start handler\n   * @param ev\n   */\n  dragstartHandler(ev: any) {\n    // Add the target element's id to the data transfer object\n    const sourceId = (<ShadowRoot>this.offsetParent.parentNode).host.id\n    ev.dataTransfer.setData(\"text/plain\", JSON.stringify({ ... { sourceId }, ...this.task }));\n  }\n\n\n  /**\n   * Drag event start handler\n   * @param ev\n   */\n  dragendHandler(ev: any) {\n    console.log(\"dragend event\", ev);\n    if (ev.dataTransfer.dropEffect !== 'none') {\n      this.remove();\n    }\n  }\n\n  /**\n   * Render function, responds to changes in the UI\n   * on attribute change\n   */\n  render(): void {\n    const commentSpan = this.root.querySelector('#comments').nextSibling;\n    commentSpan.textContent = this.task.comments.length.toString();\n    const attachmentSpan = this.root.querySelector('#attachments').nextSibling;\n    attachmentSpan.textContent = this.task.attachments.length.toString();\n    this.root.querySelector('p').textContent = this.message;\n    this.root.querySelector('header h3').textContent = this.priority;\n  }\n\n  /**\n   * Delete current task element\n   */\n  deleteTask(ev: Event) {\n    this.remove();\n  }\n\n  /**\n   * Add task from edit view to show view\n   */\n  addTask() {\n    const msg = (<HTMLTextAreaElement>this.root.querySelector('#msgInput')).value;\n    const pty = (<HTMLSelectElement>this.root.querySelector('#ptyInput')).value;\n    this.switchItemView('show');\n    this.message = msg;\n    this.priority = pty;\n  }\n\n}"],"sourceRoot":""}